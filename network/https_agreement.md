[回目录页](..)

# Https

  HTTPS其实是有两部分组成：HTTP + SSL / TLS，也就是在HTTP上又加了一层处理加密信息的模块。

  ![https_ssl_tls_flow](/image/https_ssl_tls_flow.png)

# Https数据加密流程详解

### 1. 客户端发起Https请求

    浏览器或者android客户端输入https网址，然后连接到server的443端口。

### 2. 服务端的配置

    服务器要有一套数字证书，可以自己制作，也可以向组织申请。区别就是自己颁发的证书需要客户端验证通过，才可以继续访问，而使用受信任的公司申请的证书则不会弹出提示页面(startssl就是个不错的选择，有1年的免费服务)

### 3. 传送证书

   这个证书其实就是公钥，只是包含了很多信息，如证书的颁发机构，过期时间等等。

###  4. 客户端解析证书

    这部分工作是有客户端的TLS来完成的，首先会验证公钥是否有效，比如颁发机构，过期时间等等，如果发现异常，则会弹出一个警告框，提示证书存在问题。如果证书没有问题，那么就生成一个随即值。然后用证书对该随机值进行加密。就好像上面说的，把随机值用锁头锁起来，这样除非有钥匙，不然看不到被锁住的内容。
###  5. 传送加密信息

    这部分传送的是用证书加密后的随机值

### 6. 服务段加密信息

    服务端用私钥解密后，得到了客户端传过来的随机值(对称加密信息)，然后把内容通过该值进行对称加密

###  7. 传输加密后的信息

    这部分信息是服务段用私钥加密后的信息，可以在客户端被还原

###  8. 客户端解密信息

    客户端用之前生成的私钥解密服务段传过来的信息，于是获取了解密后的内容。整个过程第三方即使监听到了数据，也束手无策。    

# Https的证书自定义


# Https证书的漏洞和证书攻击

[https](https://blog.csdn.net/xiaoming100001/article/details/81109617)


[https证书的中间人攻击](https://blog.csdn.net/zxh2075/article/details/80741032)

